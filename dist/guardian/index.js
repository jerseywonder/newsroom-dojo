function e(e="#gv-atom"){if(window.frameElement){const n=document.querySelector(e);function o(e,n){let o,i=e.clientHeight;!function t(){o=e.clientHeight,i!==o&&n(),i=o,e.onElementHeightChangeTimer&&clearTimeout(e.onElementHeightChangeTimer),e.onElementHeightChangeTimer=setTimeout(t,200)}()}console.log("Inside version 1.1"),window.parent.postMessage({sentinel:"amp",type:"embed-size",height:document.body.scrollHeight},"*"),document.body.style.overflow="hidden",window.frameElement.height=n.offsetHeight,o(document.body,(function(){window.frameElement.height=n.offsetHeight}))}}function n(){if("undefined"!=typeof navigator){const e=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,n=navigator.userAgent||navigator.vendor||window.opera;return e.test(n.substr(0,4))||/iPad/i.test(navigator.userAgent)}return!1}function o(){if("undefined"!=typeof navigator){const e=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"];return!!navigator.platform&&e.includes(navigator.platform)}return!1}function i(){let e=!1;return e=window.location!=window.parent.location?"null"==window.location.ancestorOrigins[0]:"file://"===window.location.origin||null===window.location.origin||"https://mobile.guardianapis.com"===window.location.origin,e}function t(){let e=window.location!=window.parent.location;console.log("embedded",e);let t={};return"undefined"!=typeof navigator?(t.platform=navigator.platform.toLowerCase(),t.userAgent=navigator.userAgent.toLowerCase(),t.isMobile=n(),t.app={isApp:i(),isIos:o(),isAndroid:/(android)/i.test(navigator.userAgent),isiPhone:/(iPhone)/i.test(navigator.platform),isiPad:/iPad/i.test(navigator.userAgent)}):(console.warn("Navigator is not defined. Running in a non-browser environment."),t.platform="unknown",t.userAgent="unknown",t.isMobile=!1,t.app={isApp:!1,isIos:!1,isAndroid:!1,isiPhone:!1,isiPad:!1}),t}export{i as checkApp,o as checkIOS,n as checkMobile,t as checkPlatform,e as resizeIframe};

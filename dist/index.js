const t=new Date,e=new Date;function n(r,u,o,i){function a(t){return r(t=0===arguments.length?new Date:new Date(+t)),t}return a.floor=t=>(r(t=new Date(+t)),t),a.ceil=t=>(r(t=new Date(t-1)),u(t,1),r(t),t),a.round=t=>{const e=a(t),n=a.ceil(t);return t-e<n-t?e:n},a.offset=(t,e)=>(u(t=new Date(+t),null==e?1:Math.floor(e)),t),a.range=(t,e,n)=>{const o=[];if(t=a.ceil(t),n=null==n?1:Math.floor(n),!(t<e&&n>0))return o;let i;do{o.push(i=new Date(+t)),u(t,n),r(t)}while(i<t&&t<e);return o},a.filter=t=>n((e=>{if(e>=e)for(;r(e),!t(e);)e.setTime(e-1)}),((e,n)=>{if(e>=e)if(n<0)for(;++n<=0;)for(;u(e,-1),!t(e););else for(;--n>=0;)for(;u(e,1),!t(e););})),o&&(a.count=(n,u)=>(t.setTime(+n),e.setTime(+u),r(t),r(e),Math.floor(o(t,e))),a.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?a.filter(i?e=>i(e)%t==0:e=>a.count(0,e)%t==0):a:null)),a}const r=6e4,u=864e5,o=6048e5,i=n((t=>t.setHours(0,0,0,0)),((t,e)=>t.setDate(t.getDate()+e)),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*r)/u),(t=>t.getDate()-1));i.range;const a=n((t=>{t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/u),(t=>t.getUTCDate()-1));a.range;function c(t){return n((e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),((t,e)=>{t.setDate(t.getDate()+7*e)}),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*r)/o))}n((t=>{t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/u),(t=>Math.floor(t/u))).range;const s=c(0),l=c(1),f=c(2),g=c(3),h=c(4),y=c(5),d=c(6);function m(t){return n((e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+7*e)}),((t,e)=>(e-t)/o))}s.range,l.range,f.range,g.range,h.range,y.range,d.range;const M=m(0),p=m(1),v=m(2),T=m(3),C=m(4),w=m(5),D=m(6);M.range,p.range,v.range,T.range,C.range,w.range,D.range;const F=n((t=>{t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,e)=>{t.setFullYear(t.getFullYear()+e)}),((t,e)=>e.getFullYear()-t.getFullYear()),(t=>t.getFullYear()));F.every=t=>isFinite(t=Math.floor(t))&&t>0?n((e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,n)=>{e.setFullYear(e.getFullYear()+n*t)})):null,F.range;const U=n((t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)}),((t,e)=>e.getUTCFullYear()-t.getUTCFullYear()),(t=>t.getUTCFullYear()));function Y(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function x(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function b(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}U.every=t=>isFinite(t=Math.floor(t))&&t>0?n((e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null,U.range;var H,A,S={"-":"",_:" ",0:"0"},L=/^\s*\d+/,I=/^%/,E=/[\\^$*+?|[\]().{}]/g;function P(t,e,n){var r=t<0?"-":"",u=(r?-t:t)+"",o=u.length;return r+(o<n?new Array(n-o+1).join(e)+u:u)}function B(t){return t.replace(E,"\\$&")}function O(t){return new RegExp("^(?:"+t.map(B).join("|")+")","i")}function j(t){return new Map(t.map(((t,e)=>[t.toLowerCase(),e])))}function Z(t,e,n){var r=L.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Q(t,e,n){var r=L.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function V(t,e,n){var r=L.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function W(t,e,n){var r=L.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function N(t,e,n){var r=L.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function q(t,e,n){var r=L.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function z(t,e,n){var r=L.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function J(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function X(t,e,n){var r=L.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function $(t,e,n){var r=L.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function k(t,e,n){var r=L.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function G(t,e,n){var r=L.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function R(t,e,n){var r=L.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function _(t,e,n){var r=L.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function K(t,e,n){var r=L.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function tt(t,e,n){var r=L.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function et(t,e,n){var r=L.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function nt(t,e,n){var r=I.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function rt(t,e,n){var r=L.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function ut(t,e,n){var r=L.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function ot(t,e){return P(t.getDate(),e,2)}function it(t,e){return P(t.getHours(),e,2)}function at(t,e){return P(t.getHours()%12||12,e,2)}function ct(t,e){return P(1+i.count(F(t),t),e,3)}function st(t,e){return P(t.getMilliseconds(),e,3)}function lt(t,e){return st(t,e)+"000"}function ft(t,e){return P(t.getMonth()+1,e,2)}function gt(t,e){return P(t.getMinutes(),e,2)}function ht(t,e){return P(t.getSeconds(),e,2)}function yt(t){var e=t.getDay();return 0===e?7:e}function dt(t,e){return P(s.count(F(t)-1,t),e,2)}function mt(t){var e=t.getDay();return e>=4||0===e?h(t):h.ceil(t)}function Mt(t,e){return t=mt(t),P(h.count(F(t),t)+(4===F(t).getDay()),e,2)}function pt(t){return t.getDay()}function vt(t,e){return P(l.count(F(t)-1,t),e,2)}function Tt(t,e){return P(t.getFullYear()%100,e,2)}function Ct(t,e){return P((t=mt(t)).getFullYear()%100,e,2)}function wt(t,e){return P(t.getFullYear()%1e4,e,4)}function Dt(t,e){var n=t.getDay();return P((t=n>=4||0===n?h(t):h.ceil(t)).getFullYear()%1e4,e,4)}function Ft(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+P(e/60|0,"0",2)+P(e%60,"0",2)}function Ut(t,e){return P(t.getUTCDate(),e,2)}function Yt(t,e){return P(t.getUTCHours(),e,2)}function xt(t,e){return P(t.getUTCHours()%12||12,e,2)}function bt(t,e){return P(1+a.count(U(t),t),e,3)}function Ht(t,e){return P(t.getUTCMilliseconds(),e,3)}function At(t,e){return Ht(t,e)+"000"}function St(t,e){return P(t.getUTCMonth()+1,e,2)}function Lt(t,e){return P(t.getUTCMinutes(),e,2)}function It(t,e){return P(t.getUTCSeconds(),e,2)}function Et(t){var e=t.getUTCDay();return 0===e?7:e}function Pt(t,e){return P(M.count(U(t)-1,t),e,2)}function Bt(t){var e=t.getUTCDay();return e>=4||0===e?C(t):C.ceil(t)}function Ot(t,e){return t=Bt(t),P(C.count(U(t),t)+(4===U(t).getUTCDay()),e,2)}function jt(t){return t.getUTCDay()}function Zt(t,e){return P(p.count(U(t)-1,t),e,2)}function Qt(t,e){return P(t.getUTCFullYear()%100,e,2)}function Vt(t,e){return P((t=Bt(t)).getUTCFullYear()%100,e,2)}function Wt(t,e){return P(t.getUTCFullYear()%1e4,e,4)}function Nt(t,e){var n=t.getUTCDay();return P((t=n>=4||0===n?C(t):C.ceil(t)).getUTCFullYear()%1e4,e,4)}function qt(){return"+0000"}function zt(){return"%"}function Jt(t){return+t}function Xt(t){return Math.floor(+t/1e3)}H=function(t){var e=t.dateTime,n=t.date,r=t.time,u=t.periods,o=t.days,c=t.shortDays,s=t.months,f=t.shortMonths,g=O(u),h=j(u),y=O(o),d=j(o),m=O(c),M=j(c),v=O(s),T=j(s),C=O(f),w=j(f),D={a:function(t){return c[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return f[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:ot,e:ot,f:lt,g:Ct,G:Dt,H:it,I:at,j:ct,L:st,m:ft,M:gt,p:function(t){return u[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Jt,s:Xt,S:ht,u:yt,U:dt,V:Mt,w:pt,W:vt,x:null,X:null,y:Tt,Y:wt,Z:Ft,"%":zt},F={a:function(t){return c[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return f[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:Ut,e:Ut,f:At,g:Vt,G:Nt,H:Yt,I:xt,j:bt,L:Ht,m:St,M:Lt,p:function(t){return u[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Jt,s:Xt,S:It,u:Et,U:Pt,V:Ot,w:jt,W:Zt,x:null,X:null,y:Qt,Y:Wt,Z:qt,"%":zt},U={a:function(t,e,n){var r=m.exec(e.slice(n));return r?(t.w=M.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.w=d.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){var r=C.exec(e.slice(n));return r?(t.m=w.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){var r=v.exec(e.slice(n));return r?(t.m=T.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,n,r){return L(t,e,n,r)},d:k,e:k,f:et,g:z,G:q,H:R,I:R,j:G,L:tt,m:$,M:_,p:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.p=h.get(r[0].toLowerCase()),n+r[0].length):-1},q:X,Q:rt,s:ut,S:K,u:Q,U:V,V:W,w:Z,W:N,x:function(t,e,r){return L(t,n,e,r)},X:function(t,e,n){return L(t,r,e,n)},y:z,Y:q,Z:J,"%":nt};function H(t,e){return function(n){var r,u,o,i=[],a=-1,c=0,s=t.length;for(n instanceof Date||(n=new Date(+n));++a<s;)37===t.charCodeAt(a)&&(i.push(t.slice(c,a)),null!=(u=S[r=t.charAt(++a)])?r=t.charAt(++a):u="e"===r?" ":"0",(o=e[r])&&(r=o(n,u)),i.push(r),c=a+1);return i.push(t.slice(c,a)),i.join("")}}function A(t,e){return function(n){var r,u,o=b(1900,void 0,1);if(L(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(u=(r=x(b(o.y,0,1))).getUTCDay(),r=u>4||0===u?p.ceil(r):p(r),r=a.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(u=(r=Y(b(o.y,0,1))).getDay(),r=u>4||0===u?l.ceil(r):l(r),r=i.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),u="Z"in o?x(b(o.y,0,1)).getUTCDay():Y(b(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(u+5)%7:o.w+7*o.U-(u+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,x(o)):Y(o)}}function L(t,e,n,r){for(var u,o,i=0,a=e.length,c=n.length;i<a;){if(r>=c)return-1;if(37===(u=e.charCodeAt(i++))){if(u=e.charAt(i++),!(o=U[u in S?e.charAt(i++):u])||(r=o(t,n,r))<0)return-1}else if(u!=n.charCodeAt(r++))return-1}return r}return D.x=H(n,D),D.X=H(r,D),D.c=H(e,D),F.x=H(n,F),F.X=H(r,F),F.c=H(e,F),{format:function(t){var e=H(t+="",D);return e.toString=function(){return t},e},parse:function(t){var e=A(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=H(t+="",F);return e.toString=function(){return t},e},utcParse:function(t){var e=A(t+="",!0);return e.toString=function(){return t},e}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),H.format,A=H.parse,H.utcFormat,H.utcParse;const $t=/,|%|[$\xA2-\xA5\u058F\u060B\u09F2\u09F3\u09FB\u0AF1\u0BF9\u0E3F\u17DB\u20A0-\u20BD\uA838\uFDFC\uFE69\uFF04\uFFE0\uFFE1\uFFE5\uFFE6]/g;async function kt(t){let e={rows:[],cols:[]};var n;e.head=Object.keys(t[0]),e.rows=function(t){if(!t||!Array.isArray(t)||0===t.length)return[];const e=Object.keys(t[0]),n=t.map((t=>e.map((e=>t[e]))));return n.unshift(e),n}(t),e.cols=(n=e.rows)[0].map(((t,e)=>n.map((t=>t[e])))),e.body=e.rows.slice(1);const{cols:r,rows:u}=e;let o={};return o.type=await le(r),function(t){const{head:e,type:n,rows:r,body:u}=t;return e.map(((t,e)=>({column:t,index:e,label:t,dataTypes:n[e].list,formats:n[e].format})))}({...e,...o})}function Gt(t="",e){let n={types:[]},r="body"===e?t.filter((t=>t)):t;const u=function(t){const e=ne(t)||re(t)||ee(t,Kt)||ue(t)||oe(t);return{valid:!!e}}(r);u.valid&&n.types.push("date");const o=Rt(r);if(o.valid&&n.types.push("number"),!o.format&&"number"!==n.types.join()){(i=r,i.filter(((t,e)=>e===i.indexOf(t)))).length;r.length,n.types.push("string")}var i;return n.types.sort(),n}function Rt(t){let e=t.map((t=>("string"==typeof t&&(t=t.replace($t,"")),""===t?NaN:t))).filter((t=>!isNaN(t))).map((t=>parseFloat(t)));return{valid:e.length===t.filter((t=>""!==t)).length,values:e}}function _t(t){if(t.length<2)return!0;t.sort(((t,e)=>t-e));const e=t[1]-t[0];for(let n=2;n<t.length;n++)if(t[n]-t[n-1]!==e)return!1;return!0}const Kt=["%d-%b-%y","%d %b %Y","%d %b","%d-%B-%y","%d %B %Y","%d %B","%Y-%m-%d","%Y-%m-%dT%H:%M:%S%Z","%m/%d/%y %H:%M","%m/%d/%y %I:%M %p","%H:%M:%S","%b-%y","%b %y","%Y %b","%b %Y","%B-%y","%B %y","%Y %B","%B %Y","%Y-%y","%Y/%y","%b","%B"],te=["%m/%d/%y","%m/%d/%Y"];function ee(t,e){let n,r=e.find((e=>(n=A(e),n(String(t[0])))));return r&&t.every((t=>n(String(t))))?r:""}function ne(t){let e=ee(t,te);if(e){const n=t.every((t=>"string"==typeof t&&t.split("/")[0]<=12)),r=t.some((t=>"string"==typeof t&&t.split("/")[1]>12));e=n&&r?e:"%d/%m/"+e.slice(-2),n&&!r&&console.warn("Format unclear!!!")}return e||""}function re(t){const e="%Y",n=ee(t,[e])===e,r=t.every((t=>"string"==typeof t&&4===t.length));return n&&r?e:""}function ue(t){const e=t.every((t=>"string"==typeof t&&("Q"===t[0]||"Q"===t[5])&&7===t.length)),n="%Y"===ee(t.map((t=>"string"==typeof t?t.replace(/Q([1-4])/g,"").trim():t)),["%Y"]);return e&&n?"Q*":""}function oe(t){const e="%Y%m%d",n=ee(t,[e])===e,r=t.every((t=>"string"==typeof t&&parseInt(t.slice(4,6),10)>=1&&parseInt(t.slice(4,6),10)<=12)),u=t.every((t=>"string"==typeof t&&parseInt(t.slice(6),10)>=1&&parseInt(t.slice(6),10)<=31));return n&&r&&u?e:""}function ie(t){if(0===t.length)return 0;let e=0;for(const n of t)n.length>e&&(e=n.length);return e}function ae(t){const e=new Set;for(const n of t){if(e.has(n))return!0;e.add(n)}return!1}function ce(t){if(!Array.isArray(t)||0===t.length)return"Invalid data";const e=t[0],n=t.every((t=>"number"==typeof t)),r=t.every((t=>t instanceof Date)),u=t.some((t=>t<0)),o=new Set(t).size;if(r)return"scaleTime";if(n){if(u)return"scaleLinear";return Math.max(...t)/Math.min(...t)>1e3?"scaleLog":"scaleLinear"}return"string"!=typeof e&&n?"Unknown scale type":o===t.length?"scaleOrdinal":"scaleBand"}function se(t,e){if(t.length!==e.length)return t;const n=t.map((t=>t.column));if(!e.every((t=>n.includes(t))))return t;const r=e.map((e=>t.find((t=>t.column===e))));return r.forEach(((t,e)=>{t.index=e})),r.sort(((t,e)=>t.index-e.index)),r}const le=async t=>t.map(((t,e)=>{let n=Gt(t.slice(1),"body").types;e>0&&(n=n.filter((t=>"date"!==t)));let r=[];return n.forEach((e=>{let n={status:!1};var u;"number"===e&&(n=function(t){let e=Rt(t).values;return{min:Math.min(...e),max:Math.max(...e),scale:ce(e),hasEmptyValues:e.length!=t.length,sequential:_t(e)}}(t.slice(1))),"string"===e&&(n={hasRepeat:ae(u=t.slice(1)),longest:ie(u),scale:ce(u)}),"date"===e&&(n=function(t){const e=ne(t)||re(t)||ee(t,Kt)||ue(t)||oe(t),n=e.includes("%d")||e.includes("%H");return{dateFormat:e,hasDay:n,scale:ce(t)}}(t.slice(1))),r.push({type:e,format:{...n}})})),{list:n,format:r}}));function fe(t,e){return Array.isArray(e)?e.some((e=>t.includes(e))):t.includes(e)}function ge(t){const e=[];return t.forEach((t=>{e.includes(t)||e.push(t)})),e}function he(t){let e=t.length;for(;e>0;){const n=Math.floor(Math.random()*e);e--,[t[e],t[n]]=[t[n],t[e]]}return t}function ye(t,e){return Array.isArray(e)?e.filter((e=>t.includes(e))):t.includes(e)?e:[]}function de(t,e){const n={};e.forEach((e=>{t.hasOwnProperty(e)&&(n[e]=t[e])}));for(const r in t)e.includes(r)||(n[r]=t[r]);return n}function me(t,e){for(const n in e)"object"!=typeof t[n]?t[n]=e[n]:"object"==typeof e[n]&&(t[n]=me(t[n],e[n]));return t}function Me(t,e){const n=[];for(let t=0;t<=e.length;t++)n[t]=[t];for(let e=0;e<=t.length;e++)n[0][e]=e;for(let r=1;r<=e.length;r++)for(let u=1;u<=t.length;u++)e.charAt(r-1)===t.charAt(u-1)?n[r][u]=n[r-1][u-1]:n[r][u]=Math.min(n[r-1][u-1]+1,Math.min(n[r][u-1]+1,n[r-1][u]+1));return n[e.length][t.length]}function pe(t,e,n){let r=[];if(e.length>2){const u=e.toLowerCase();r=t.filter((t=>{const e=t[n].toLowerCase(),r=Me(e,u),o=Math.max(e.length,u.length)/3;return e.includes(u)||r<=o})),r=r.sort(((t,e)=>{const r=t[n].toLowerCase(),o=e[n].toLowerCase();return Me(r,u)-Me(o,u)}))}return r}function ve(t){var e,n=0;for(e=0;e<t.length;e+=1)n+=t[e];return n/t.length}function Te(t){var e=t.length;return t.sort(),e%2==0?(t[e/2-1]+t[e/2])/2:t[(e-1)/2]}function Ce(t){var e,n,r=[],u=[],o=0;for(e=0;e<t.length;e+=1)u[n=t[e]]=(u[n]||0)+1,u[n]>o&&(o=u[n]);for(e in u)u.hasOwnProperty(e)&&u[e]===o&&r.push(Number(e));return r}function we(t){return t.sort(),[t[0],t[t.length-1]]}function De(t){return fetch(t).then((t=>t.json()))}function Fe(t){let e;e=top!==self?window.location.search.substring(1).split("&"):window.parent.location.search.substring(1).split("&");for(let n=0;n<e.length;n++){const[r,u]=e[n].split("=");if(r===t)return u}return null}function Ue(t,e,n,r){var u,o=Ue,i="";function a(t,e){return t=null!=(t=t[(e=e.pop?e:e.split(".")).shift()])?t:"",0 in e?a(t,e):t}e=Array.isArray(e)?e:e?[e]:[],e=r?0 in e?[]:[1]:e;for(u=0;u<e.length;u++){var c,s="",l=0,f="object"==typeof e[u]?e[u]:{};(f=Object.assign({},n,f))[""]={"":e[u]},t.replace(/([\s\S]*?)({{((\/)|(\^)|#)(.*?)}}|$)/g,(function(t,e,n,r,u,g,h){l?s+=l&&!u||l>1?t:e:(i+=e.replace(/{{{(.*?)}}}|{{(!?)(&?)(>?)(.*?)}}/g,(function(t,e,n,r,u,i){return e?a(f,e):r?a(f,i):u?o(a(f,i),f):n?"":new Option(a(f,i)).innerHTML})),c=g),u?--l||(h=a(f,h),/^f/.test(typeof h)?i+=h.call(f,s,(function(t){return o(t,f)})):i+=o(s,h,f,c),s=""):++l}))}return i}function Ye(t="#gv-atom"){if(window.frameElement){const e=document.querySelector(t);function n(t,e){let n,r=t.clientHeight;!function u(){n=t.clientHeight,r!==n&&e(),r=n,t.onElementHeightChangeTimer&&clearTimeout(t.onElementHeightChangeTimer),t.onElementHeightChangeTimer=setTimeout(u,200)}()}console.log("Inside version 1.1"),window.parent.postMessage({sentinel:"amp",type:"embed-size",height:document.body.scrollHeight},"*"),document.body.style.overflow="hidden",window.frameElement.height=e.offsetHeight,n(document.body,(function(){window.frameElement.height=e.offsetHeight}))}}function xe(t,e){return be(parseFloat(t[1]),parseFloat(t[0]),parseFloat(e[1]),parseFloat(e[0]))}function be(t,e,n,r){var u=Le(r-e);t=Le(t),n=Le(n);return 6371e3*Math.acos(Math.sin(t)*Math.sin(n)+Math.cos(t)*Math.cos(n)*Math.cos(u))}function He(t,e,n){var r=Number(n)/6371e3,u=Le(Number(e)),o=Le(t[1]),i=Le(t[0]),a=Math.asin(Math.sin(o)*Math.cos(r)+Math.cos(o)*Math.sin(r)*Math.cos(u)),c=i+Math.atan2(Math.sin(u)*Math.sin(r)*Math.cos(o),Math.cos(r)-Math.sin(o)*Math.sin(a));return[Se(c=(c+3*Math.PI)%(2*Math.PI)-Math.PI),Se(a)]}function Ae(t,e){var n=Le(t[1]),r=Le(t[0]),u=Le(e[1]),o=Le(e[0])-r,i=Math.log(Math.tan(u/2+Math.PI/4)/Math.tan(n/2+Math.PI/4));return Math.abs(o)>Math.PI&&(o=o>0?-(2*Math.PI-o):2*Math.PI+o),(Se(Math.atan2(o,i))+360)%360}function Se(t){return 180*t/Math.PI}function Le(t){return t*Math.PI/180}function Ie(t,e,n,r,u,o,i){const a=i*Math.PI/180,c=t*Math.PI/180,s=o-u,l=n/s*360/(2*Math.PI),f=l/2*Math.log((1+Math.sin(a))/(1-Math.sin(a)));return{x:n/s*(e-u),y:r-(l/2*Math.log((1+Math.sin(c))/(1-Math.sin(c)))-f)}}export{xe as calculateDistance,fe as contains,Ie as convertGeoToPixel,He as createCoord,pe as filterWithFuzzyMatch,Ae as getBearing,De as getJson,Fe as getURLParams,ye as match_array,ve as mean,Te as median,me as merge,Ce as mode,Ue as mustache,we as range,Ye as resizeIframe,kt as schema,he as shuffle,se as sortJsonByColumnOrder,de as sortObjectByKey,be as sphericalCosinus,ge as unique};

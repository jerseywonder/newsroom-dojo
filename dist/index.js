const e=new Date,t=new Date;function n(r,u,o,a){function i(e){return r(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=e=>(r(e=new Date(+e)),e),i.ceil=e=>(r(e=new Date(e-1)),u(e,1),r(e),e),i.round=e=>{const t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=(e,t)=>(u(e=new Date(+e),null==t?1:Math.floor(t)),e),i.range=(e,t,n)=>{const o=[];if(e=i.ceil(e),n=null==n?1:Math.floor(n),!(e<t&&n>0))return o;let a;do{o.push(a=new Date(+e)),u(e,n),r(e)}while(a<e&&e<t);return o},i.filter=e=>n((t=>{if(t>=t)for(;r(t),!e(t);)t.setTime(t-1)}),((t,n)=>{if(t>=t)if(n<0)for(;++n<=0;)for(;u(t,-1),!e(t););else for(;--n>=0;)for(;u(t,1),!e(t););})),o&&(i.count=(n,u)=>(e.setTime(+n),t.setTime(+u),r(e),r(t),Math.floor(o(e,t))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(a?t=>a(t)%e==0:t=>i.count(0,t)%e==0):i:null)),i}const r=6e4,u=864e5,o=6048e5,a=n((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*r)/u),(e=>e.getDate()-1));a.range;const i=n((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/u),(e=>e.getUTCDate()-1));i.range;function c(e){return n((t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),((e,t)=>{e.setDate(e.getDate()+7*t)}),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*r)/o))}n((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/u),(e=>Math.floor(e/u))).range;const s=c(0),l=c(1),f=c(2),g=c(3),h=c(4),y=c(5),d=c(6);function m(e){return n((t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)}),((e,t)=>(t-e)/o))}s.range,l.range,f.range,g.range,h.range,y.range,d.range;const M=m(0),p=m(1),v=m(2),T=m(3),C=m(4),D=m(5),w=m(6);M.range,p.range,v.range,T.range,C.range,D.range,w.range;const F=n((e=>{e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,t)=>{e.setFullYear(e.getFullYear()+t)}),((e,t)=>t.getFullYear()-e.getFullYear()),(e=>e.getFullYear()));F.every=e=>isFinite(e=Math.floor(e))&&e>0?n((t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,n)=>{t.setFullYear(t.getFullYear()+n*e)})):null,F.range;const U=n((e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)}),((e,t)=>t.getUTCFullYear()-e.getUTCFullYear()),(e=>e.getUTCFullYear()));function Y(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function x(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function b(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}U.every=e=>isFinite(e=Math.floor(e))&&e>0?n((t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null,U.range;var H,A,S={"-":"",_:" ",0:"0"},L=/^\s*\d+/,I=/^%/,P=/[\\^$*+?|[\]().{}]/g;function B(e,t,n){var r=e<0?"-":"",u=(r?-e:e)+"",o=u.length;return r+(o<n?new Array(n-o+1).join(t)+u:u)}function E(e){return e.replace(P,"\\$&")}function O(e){return new RegExp("^(?:"+e.map(E).join("|")+")","i")}function j(e){return new Map(e.map(((e,t)=>[e.toLowerCase(),t])))}function Z(e,t,n){var r=L.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Q(e,t,n){var r=L.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function V(e,t,n){var r=L.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function W(e,t,n){var r=L.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function N(e,t,n){var r=L.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function q(e,t,n){var r=L.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function z(e,t,n){var r=L.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function J(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function X(e,t,n){var r=L.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function $(e,t,n){var r=L.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function k(e,t,n){var r=L.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function G(e,t,n){var r=L.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function R(e,t,n){var r=L.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function _(e,t,n){var r=L.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function K(e,t,n){var r=L.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function ee(e,t,n){var r=L.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function te(e,t,n){var r=L.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function ne(e,t,n){var r=I.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function re(e,t,n){var r=L.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function ue(e,t,n){var r=L.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function oe(e,t){return B(e.getDate(),t,2)}function ae(e,t){return B(e.getHours(),t,2)}function ie(e,t){return B(e.getHours()%12||12,t,2)}function ce(e,t){return B(1+a.count(F(e),e),t,3)}function se(e,t){return B(e.getMilliseconds(),t,3)}function le(e,t){return se(e,t)+"000"}function fe(e,t){return B(e.getMonth()+1,t,2)}function ge(e,t){return B(e.getMinutes(),t,2)}function he(e,t){return B(e.getSeconds(),t,2)}function ye(e){var t=e.getDay();return 0===t?7:t}function de(e,t){return B(s.count(F(e)-1,e),t,2)}function me(e){var t=e.getDay();return t>=4||0===t?h(e):h.ceil(e)}function Me(e,t){return e=me(e),B(h.count(F(e),e)+(4===F(e).getDay()),t,2)}function pe(e){return e.getDay()}function ve(e,t){return B(l.count(F(e)-1,e),t,2)}function Te(e,t){return B(e.getFullYear()%100,t,2)}function Ce(e,t){return B((e=me(e)).getFullYear()%100,t,2)}function De(e,t){return B(e.getFullYear()%1e4,t,4)}function we(e,t){var n=e.getDay();return B((e=n>=4||0===n?h(e):h.ceil(e)).getFullYear()%1e4,t,4)}function Fe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+B(t/60|0,"0",2)+B(t%60,"0",2)}function Ue(e,t){return B(e.getUTCDate(),t,2)}function Ye(e,t){return B(e.getUTCHours(),t,2)}function xe(e,t){return B(e.getUTCHours()%12||12,t,2)}function be(e,t){return B(1+i.count(U(e),e),t,3)}function He(e,t){return B(e.getUTCMilliseconds(),t,3)}function Ae(e,t){return He(e,t)+"000"}function Se(e,t){return B(e.getUTCMonth()+1,t,2)}function Le(e,t){return B(e.getUTCMinutes(),t,2)}function Ie(e,t){return B(e.getUTCSeconds(),t,2)}function Pe(e){var t=e.getUTCDay();return 0===t?7:t}function Be(e,t){return B(M.count(U(e)-1,e),t,2)}function Ee(e){var t=e.getUTCDay();return t>=4||0===t?C(e):C.ceil(e)}function Oe(e,t){return e=Ee(e),B(C.count(U(e),e)+(4===U(e).getUTCDay()),t,2)}function je(e){return e.getUTCDay()}function Ze(e,t){return B(p.count(U(e)-1,e),t,2)}function Qe(e,t){return B(e.getUTCFullYear()%100,t,2)}function Ve(e,t){return B((e=Ee(e)).getUTCFullYear()%100,t,2)}function We(e,t){return B(e.getUTCFullYear()%1e4,t,4)}function Ne(e,t){var n=e.getUTCDay();return B((e=n>=4||0===n?C(e):C.ceil(e)).getUTCFullYear()%1e4,t,4)}function qe(){return"+0000"}function ze(){return"%"}function Je(e){return+e}function Xe(e){return Math.floor(+e/1e3)}H=function(e){var t=e.dateTime,n=e.date,r=e.time,u=e.periods,o=e.days,c=e.shortDays,s=e.months,f=e.shortMonths,g=O(u),h=j(u),y=O(o),d=j(o),m=O(c),M=j(c),v=O(s),T=j(s),C=O(f),D=j(f),w={a:function(e){return c[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return f[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:oe,e:oe,f:le,g:Ce,G:we,H:ae,I:ie,j:ce,L:se,m:fe,M:ge,p:function(e){return u[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:Je,s:Xe,S:he,u:ye,U:de,V:Me,w:pe,W:ve,x:null,X:null,y:Te,Y:De,Z:Fe,"%":ze},F={a:function(e){return c[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return f[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:Ue,e:Ue,f:Ae,g:Ve,G:Ne,H:Ye,I:xe,j:be,L:He,m:Se,M:Le,p:function(e){return u[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:Je,s:Xe,S:Ie,u:Pe,U:Be,V:Oe,w:je,W:Ze,x:null,X:null,y:Qe,Y:We,Z:qe,"%":ze},U={a:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.w=M.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=y.exec(t.slice(n));return r?(e.w=d.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=C.exec(t.slice(n));return r?(e.m=D.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=v.exec(t.slice(n));return r?(e.m=T.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return L(e,t,n,r)},d:k,e:k,f:te,g:z,G:q,H:R,I:R,j:G,L:ee,m:$,M:_,p:function(e,t,n){var r=g.exec(t.slice(n));return r?(e.p=h.get(r[0].toLowerCase()),n+r[0].length):-1},q:X,Q:re,s:ue,S:K,u:Q,U:V,V:W,w:Z,W:N,x:function(e,t,r){return L(e,n,t,r)},X:function(e,t,n){return L(e,r,t,n)},y:z,Y:q,Z:J,"%":ne};function H(e,t){return function(n){var r,u,o,a=[],i=-1,c=0,s=e.length;for(n instanceof Date||(n=new Date(+n));++i<s;)37===e.charCodeAt(i)&&(a.push(e.slice(c,i)),null!=(u=S[r=e.charAt(++i)])?r=e.charAt(++i):u="e"===r?" ":"0",(o=t[r])&&(r=o(n,u)),a.push(r),c=i+1);return a.push(e.slice(c,i)),a.join("")}}function A(e,t){return function(n){var r,u,o=b(1900,void 0,1);if(L(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(u=(r=x(b(o.y,0,1))).getUTCDay(),r=u>4||0===u?p.ceil(r):p(r),r=i.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(u=(r=Y(b(o.y,0,1))).getDay(),r=u>4||0===u?l.ceil(r):l(r),r=a.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),u="Z"in o?x(b(o.y,0,1)).getUTCDay():Y(b(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(u+5)%7:o.w+7*o.U-(u+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,x(o)):Y(o)}}function L(e,t,n,r){for(var u,o,a=0,i=t.length,c=n.length;a<i;){if(r>=c)return-1;if(37===(u=t.charCodeAt(a++))){if(u=t.charAt(a++),!(o=U[u in S?t.charAt(a++):u])||(r=o(e,n,r))<0)return-1}else if(u!=n.charCodeAt(r++))return-1}return r}return w.x=H(n,w),w.X=H(r,w),w.c=H(t,w),F.x=H(n,F),F.X=H(r,F),F.c=H(t,F),{format:function(e){var t=H(e+="",w);return t.toString=function(){return e},t},parse:function(e){var t=A(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=H(e+="",F);return t.toString=function(){return e},t},utcParse:function(e){var t=A(e+="",!0);return t.toString=function(){return e},t}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),H.format,A=H.parse,H.utcFormat,H.utcParse;const $e=/,|%|[$\xA2-\xA5\u058F\u060B\u09F2\u09F3\u09FB\u0AF1\u0BF9\u0E3F\u17DB\u20A0-\u20BD\uA838\uFDFC\uFE69\uFF04\uFFE0\uFFE1\uFFE5\uFFE6]/g;async function ke(e){let t={rows:[],cols:[]};var n;t.head=Object.keys(e[0]),t.rows=function(e){if(!e||!Array.isArray(e)||0===e.length)return[];const t=Object.keys(e[0]),n=e.map((e=>t.map((t=>e[t]))));return n.unshift(t),n}(e),t.cols=(n=t.rows)[0].map(((e,t)=>n.map((e=>e[t])))),t.body=t.rows.slice(1);const{cols:r,rows:u}=t;let o={};return o.type=await lt(r),console.log(o),function(e){const{head:t,type:n,rows:r,body:u}=e;return t.map(((e,t)=>({column:e,index:t,label:e,dataTypes:n[t].list,formats:n[t].format})))}({...t,...o})}function Ge(e="",t){let n={types:[]},r="body"===t?e.filter((e=>e)):e;const u=function(e){const t=nt(e)||rt(e)||tt(e,Ke)||ut(e)||ot(e);return{valid:!!t}}(r);u.valid&&n.types.push("date");const o=Re(r);if(o.valid&&n.types.push("number"),!o.format&&"number"!==n.types.join()){(a=r,a.filter(((e,t)=>t===a.indexOf(e)))).length;r.length,n.types.push("string")}var a;return n.types.sort(),n}function Re(e){let t=e.map((e=>("string"==typeof e&&(e=e.replace($e,"")),""===e?NaN:e))).filter((e=>!isNaN(e))).map((e=>parseFloat(e)));return{valid:t.length===e.filter((e=>""!==e)).length,values:t}}function _e(e){if(e.length<2)return!0;e.sort(((e,t)=>e-t));const t=e[1]-e[0];for(let n=2;n<e.length;n++)if(e[n]-e[n-1]!==t)return!1;return!0}const Ke=["%d-%b-%y","%d %b %Y","%d %b","%d-%B-%y","%d %B %Y","%d %B","%Y-%m-%d","%Y-%m-%dT%H:%M:%S%Z","%m/%d/%y %H:%M","%m/%d/%y %I:%M %p","%H:%M:%S","%b-%y","%b %y","%Y %b","%b %Y","%B-%y","%B %y","%Y %B","%B %Y","%Y-%y","%Y/%y","%b","%B"],et=["%m/%d/%y","%m/%d/%Y"];function tt(e,t){let n,r=t.find((t=>(n=A(t),n(e[0]))));return r&&e.every((e=>n(e)))?r:""}function nt(e){let t=tt(e,et);if(t){const n=e.every((e=>e.split("/")[0]<=12)),r=e.some((e=>e.split("/")[1]>12));t=n&&r?t:"%d/%m/"+t.slice(-2),n&&!r&&console.warn("Format unclear!!!")}return t||""}function rt(e){const t="%Y",n=tt(e,[t])===t,r=e.every((e=>4===e.length));return n&&r?t:""}function ut(e){const t=e.every((e=>("Q"===e[0]||"Q"===e[5])&&7===e.length)),n="%Y"===tt(e.map((e=>e.replace(/Q([1-4])/g,"").trim())),["%Y"]);return t&&n?"Q*":""}function ot(e){const t="%Y%m%d",n=tt(e,[t])===t,r=e.every((e=>{const t=e.slice(4,6);return t>=1&&t<=12})),u=e.every((e=>{const t=e.slice(6);return t>=1&&t<=31}));return n&&r&&u?t:""}function at(e){if(0===e.length)return 0;let t=0;for(const n of e)n.length>t&&(t=n.length);return t}function it(e){const t=new Set;for(const n of e){if(t.has(n))return!0;t.add(n)}return!1}function ct(e){if(!Array.isArray(e)||0===e.length)return"Invalid data";const t=e[0],n=e.every((e=>"number"==typeof e)),r=e.every((e=>e instanceof Date)),u=e.some((e=>e<0)),o=new Set(e).size;if(r)return"scaleTime";if(n){if(u)return"scaleLinear";return Math.max(...e)/Math.min(...e)>1e3?"scaleLog":"scaleLinear"}return"string"!=typeof t&&n?"Unknown scale type":o===e.length?"scaleOrdinal":"scaleBand"}function st(e,t){if(e.length!==t.length)return e;const n=e.map((e=>e.column));if(!t.every((e=>n.includes(e))))return e;const r=t.map((t=>e.find((e=>e.column===t))));return r.forEach(((e,t)=>{e.index=t})),r.sort(((e,t)=>e.index-t.index)),r}const lt=async e=>e.map(((e,t)=>{let n=Ge(e.slice(1),"body").types;t>0&&(n=n.filter((e=>"date"!==e)));let r=[];return n.forEach((t=>{let n={status:!1};var u;"number"===t&&(n=function(e){let t=Re(e).values;return{min:Math.min(...t),max:Math.max(...t),scale:ct(t),hasEmptyValues:t.length!=e.length,sequential:_e(t)}}(e.slice(1))),"string"===t&&(n={hasRepeat:it(u=e.slice(1)),longest:at(u),scale:ct(u)}),"date"===t&&(n=function(e){const t=nt(e)||rt(e)||tt(e,Ke)||ut(e)||ot(e),n=t.includes("%d")||t.includes("%H");return{dateFormat:t,hasDay:n,scale:ct(e)}}(e.slice(1))),r.push({type:t,format:{...n}})})),{list:n,format:r}}));function ft(e,t){return Array.isArray(t)?t.some((t=>e.includes(t))):e.includes(t)}function gt(e,t){const n={};t.forEach((t=>{e.hasOwnProperty(t)&&(n[t]=e[t])}));for(const r in e)t.includes(r)||(n[r]=e[r]);return n}function ht(e,t){for(const n in t)"object"!=typeof e[n]?e[n]=t[n]:"object"==typeof t[n]&&(e[n]=ht(e[n],t[n]));return e}function yt(e){var t,n=0;for(t=0;t<e.length;t+=1)n+=e[t];return n/e.length}function dt(e){var t=e.length;return e.sort(),t%2==0?(e[t/2-1]+e[t/2])/2:e[(t-1)/2]}function mt(e){var t,n,r=[],u=[],o=0;for(t=0;t<e.length;t+=1)u[n=e[t]]=(u[n]||0)+1,u[n]>o&&(o=u[n]);for(t in u)u.hasOwnProperty(t)&&u[t]===o&&r.push(Number(t));return r}function Mt(e){return e.sort(),[e[0],e[e.length-1]]}function pt(e){return fetch(e).then((e=>e.json()))}function vt(e){let t;t=top!==self?window.location.search.substring(1).split("&"):window.parent.location.search.substring(1).split("&");for(let n=0;n<t.length;n++){const[r,u]=t[n].split("=");if(r===e)return u}return null}function Tt(e,t,n,r){var u,o=Tt,a="";function i(e,t){return e=null!=(e=e[(t=t.pop?t:t.split(".")).shift()])?e:"",0 in t?i(e,t):e}t=Array.isArray(t)?t:t?[t]:[],t=r?0 in t?[]:[1]:t;for(u=0;u<t.length;u++){var c,s="",l=0,f="object"==typeof t[u]?t[u]:{};(f=Object.assign({},n,f))[""]={"":t[u]},e.replace(/([\s\S]*?)({{((\/)|(\^)|#)(.*?)}}|$)/g,(function(e,t,n,r,u,g,h){l?s+=l&&!u||l>1?e:t:(a+=t.replace(/{{{(.*?)}}}|{{(!?)(&?)(>?)(.*?)}}/g,(function(e,t,n,r,u,a){return t?i(f,t):r?i(f,a):u?o(i(f,a),f):n?"":new Option(i(f,a)).innerHTML})),c=g),u?--l||(h=i(f,h),/^f/.test(typeof h)?a+=h.call(f,s,(function(e){return o(e,f)})):a+=o(s,h,f,c),s=""):++l}))}return a}function Ct(e="#gv-atom"){if(window.frameElement){const t=document.querySelector(e);function n(e,t){let n,r=e.clientHeight;!function u(){n=e.clientHeight,r!==n&&t(),r=n,e.onElementHeightChangeTimer&&clearTimeout(e.onElementHeightChangeTimer),e.onElementHeightChangeTimer=setTimeout(u,200)}()}console.log("Inside version 1.1"),window.parent.postMessage({sentinel:"amp",type:"embed-size",height:document.body.scrollHeight},"*"),document.body.style.overflow="hidden",window.frameElement.height=t.offsetHeight,n(document.body,(function(){window.frameElement.height=t.offsetHeight}))}}function Dt(e,t){return wt(parseFloat(e[1]),parseFloat(e[0]),parseFloat(t[1]),parseFloat(t[0]))}function wt(e,t,n,r){var u=xt(r-t);e=xt(e),n=xt(n);return 6371e3*Math.acos(Math.sin(e)*Math.sin(n)+Math.cos(e)*Math.cos(n)*Math.cos(u))}function Ft(e,t,n){var r=Number(n)/6371e3,u=xt(Number(t)),o=xt(e[1]),a=xt(e[0]),i=Math.asin(Math.sin(o)*Math.cos(r)+Math.cos(o)*Math.sin(r)*Math.cos(u)),c=a+Math.atan2(Math.sin(u)*Math.sin(r)*Math.cos(o),Math.cos(r)-Math.sin(o)*Math.sin(i));return[Yt(c=(c+3*Math.PI)%(2*Math.PI)-Math.PI),Yt(i)]}function Ut(e,t){var n=xt(e[1]),r=xt(e[0]),u=xt(t[1]),o=xt(t[0])-r,a=Math.log(Math.tan(u/2+Math.PI/4)/Math.tan(n/2+Math.PI/4));return Math.abs(o)>Math.PI&&(o=o>0?-(2*Math.PI-o):2*Math.PI+o),(Yt(Math.atan2(o,a))+360)%360}function Yt(e){return 180*e/Math.PI}function xt(e){return e*Math.PI/180}function bt(e,t,n,r,u,o,a){const i=a*Math.PI/180,c=e*Math.PI/180,s=o-u,l=n/s*360/(2*Math.PI),f=l/2*Math.log((1+Math.sin(i))/(1-Math.sin(i)));return{x:n/s*(t-u),y:r-(l/2*Math.log((1+Math.sin(c))/(1-Math.sin(c)))-f)}}export{Dt as calculateDistance,ft as contains,bt as convertGeoToPixel,Ft as createCoord,Ut as getBearing,pt as getJson,vt as getURLParams,yt as mean,dt as median,ht as merge,mt as mode,Tt as mustache,Mt as range,Ct as resizeIframe,ke as schema,st as sortJsonByColumnOrder,gt as sortObjectByKey,wt as sphericalCosinus};
